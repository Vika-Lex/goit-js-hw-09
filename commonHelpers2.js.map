{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nimport '../styles/index.scss';\nconst refs = {\n  form: document.querySelector('.js-form'),\n  inputMail: document.querySelector('.js-input'),\n  inputText: document.querySelector('.js-text'),\n};\nrefs.form.addEventListener('submit', handleSubmitForm);\nrefs.form.addEventListener('input', throttle(handleChangeInput, 500));\n\nconst FORM_DATA_KEY = 'feedback-form-state';\n\nconst feedbackForm = {\n  email: '',\n  message: '',\n};\n\nif (localStorage.getItem(FORM_DATA_KEY)) {\n  const newData = JSON.parse(localStorage.getItem(FORM_DATA_KEY));\n  refs.inputMail.value = newData.email;\n  refs.inputText.value = newData.message;\n}\n\nfunction handleSubmitForm(event) {\n  event.preventDefault();\n  const input = event.target.elements.email.value.trim();\n  const textarea = event.target.elements.message.value.trim();\n  if (input === '' || textarea === '') {\n    alert('Поля форми повинні бути заповнені');\n    return;\n  }\n  console.log({\n    email: input,\n    message: textarea,\n  });\n  refs.form.reset();\n  localStorage.clear();\n}\n\nfunction handleChangeInput(event) {\n  feedbackForm.email = refs.inputMail.value.trim();\n  feedbackForm.message = refs.inputText.value.trim();\n\n  localStorage.setItem(FORM_DATA_KEY, JSON.stringify(feedbackForm));\n}\n"],"names":["refs","handleSubmitForm","throttle","handleChangeInput","FORM_DATA_KEY","feedbackForm","newData","event","input","textarea"],"mappings":"mFAEA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,UAAW,SAAS,cAAc,WAAW,EAC7C,UAAW,SAAS,cAAc,UAAU,CAC9C,EACAA,EAAK,KAAK,iBAAiB,SAAUC,CAAgB,EACrDD,EAAK,KAAK,iBAAiB,QAASE,EAASC,EAAmB,GAAG,CAAC,EAEpE,MAAMC,EAAgB,sBAEhBC,EAAe,CACnB,MAAO,GACP,QAAS,EACX,EAEA,GAAI,aAAa,QAAQD,CAAa,EAAG,CACvC,MAAME,EAAU,KAAK,MAAM,aAAa,QAAQF,CAAa,CAAC,EAC9DJ,EAAK,UAAU,MAAQM,EAAQ,MAC/BN,EAAK,UAAU,MAAQM,EAAQ,OACjC,CAEA,SAASL,EAAiBM,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAC1CE,EAAWF,EAAM,OAAO,SAAS,QAAQ,MAAM,OACrD,GAAIC,IAAU,IAAMC,IAAa,GAAI,CACnC,MAAM,mCAAmC,EACzC,MACD,CACD,QAAQ,IAAI,CACV,MAAOD,EACP,QAASC,CACb,CAAG,EACDT,EAAK,KAAK,QACV,aAAa,MAAK,CACpB,CAEA,SAASG,EAAkBI,EAAO,CAChCF,EAAa,MAAQL,EAAK,UAAU,MAAM,KAAI,EAC9CK,EAAa,QAAUL,EAAK,UAAU,MAAM,KAAI,EAEhD,aAAa,QAAQI,EAAe,KAAK,UAAUC,CAAY,CAAC,CAClE"}